<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Barbershop athens, Barbershop peristeri">
    <meta name="description" content="Barbershop στο Περιστέρι της Αθήνας, κλείσε ραντεβού σήμερα! ">

    
    <title>Μικρό Χόλιγουντ - Official Website</title>

   
    <link rel="icon" href="nav/favicon.ico">

    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

    
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">
   

    
   
    <link href="css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
  
    <div class="custom-navbar">
        <div class="top-bar d-none d-md-block">
            <div class="container-fluid">
                <div class="row">
                    
                    <div class="col-md-6">
                        <div class="top-bar-left">
                            <div class="text">
                                <h2><a href="tel:+302160034661">21&nbsp;6003&nbsp;4661</a></h2>
                                <p>Τηλέφωνο επικοινωνίας</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="top-bar-right">
                            <div class="social">
                                <a href="https://www.facebook.com/MikroHollywood/" target="_blank">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="https://www.instagram.com/mikrohollywood/" target="_blank">
                                    <i class="fab fa-instagram"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

       
        <div class="container-fluid d-flex align-items-center justify-content-between">
           
            <div class="brand d-flex align-items-center">
                <span class="brand-text">Το&nbsp;μικρό</span>&nbsp; <span class="brand-text hollywood">Χόλιγουντ</span>
                <img src="nav/star-logo.png" alt="Star Logo" class="star-logo ml-2">
            </div>
        </div>
       
        <nav class="navbar navbar-expand-lg">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">ΑΡΧΙΚΗ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="portfolio.html">ΓΚΑΛΕΡΙ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">ΕΠΙΚΟΙΝΩΝΙΑ</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

   
    <div class="hero">
        <div class="container-fluid">
            <div class="row">
                
                <div class="col-md-6 hero-text">
                    <h1>Ένα μικρό χολιγουντιανό καμαρίνι εποχής στο Περιστέρι! ⭐️ 🎞️ 📽️</h1>
                    <a class="btn hero-button" href="#contact">Κλείσε Ραντεβού!✂️</a> 
                </div>

                
                <div class="hero-image-container">
                    <div class="album">
                      
                        <img src="img/1.png" alt="Album Image 1">
                        <img src="img/2.png" alt="Album Image 2">
                        <img src="img/3.png" alt="Album Image 3">
                        <img src="img/4.png" alt="Album Image 4">
                        <img src="img/5.png" alt="Album Image 5">
                        <img src="img/6.png" alt="Album Image 6">
                    </div>
                    <a class="btn" href="portfolio.html">Γκαλερί</a>
                </div>
            </div>
        </div>
    </div>


<div class="contact" id="contact">
    <div class="container-fluid">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-4"></div>
                <div class="col-md-8">
                    <div class="contact-form">
                        <h3>Κλείσε Ραντεβού!</h3>
                        <form id="bookingForm">
                            <div class="control-group">
                                <label for="name">Το όνομά σας:</label>
                                <input type="text" class="form-control" id="name" placeholder="Ονοματεπώνυμο" required />
                            </div>

                            <div class="control-group">
                                <label for="phone">Ο αριθμός τηλεφώνου σας:</label>
                                <input type="tel" class="form-control" id="phone" placeholder="Τηλέφωνο επικοινωνίας" required />
                            </div>

                            <div class="control-group">
                                <label for="email">Το email σας:</label>
                                <input type="email" class="form-control" id="email" placeholder="Ηλεκτρονική διεύθυνση" required />
                            </div>

                            <div class="control-group">
                                <label for="appointment-date">Επιλέξτε ημερομηνία:</label>
                                <input type="date" class="form-control" id="appointment-date" required />
                            </div>

                            <div class="control-group">
                                <label for="appointment-time">Επιλέξτε ώρα:</label>
                                <div id="appointment-time" class="time-slots">
                                  
                                </div>
                            </div>

                            <div>
                                <button class="btn" type="submit">Κάνε Κράτηση</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
 
  <div class="container">
    <a href="#" class="cancel-link">Ακύρωση Ραντεβού</a>
</div>


    <div id="cancelModal" class="modal">
        <div class="modal-content">
            <span class="close cancel-close">&times;</span>
            <h3>Ακύρωση Ραντεβού</h3>
            <p>Παρακαλώ εισάγετε το email σας για να λάβετε τον σύνδεσμο ακύρωσης:</p>
            <input type="email" id="userEmail" placeholder="Email">
            <button id="sendCancelLink" class="hero-btn">Αποστολή Συνδέσμου</button>
        </div>
    </div>
    <button id="showModalBtn">Προβολή Υπηρεσιών</button>


<div id="servicesModal" class="modal">
  <div class="modal-content">
    <h2>Επιλέξτε Υπηρεσίες</h2>
    <div id="servicesList"></div>
    <p id="totalPrice">Συνολικό Κόστος: 0 €</p>
    <button id="confirmBtn">Επιβεβαίωση</button>
    <button id="closeModalBtn">Κλείσιμο</button>
  </div>
</div>

<div id="appointmentModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        
        <div id="confirmationContent">
            <div class="modal-header">Επιβεβαίωση Ραντεβού</div>
            <div class="modal-body">
                Είστε σίγουροι ότι θέλετε να καταχωρηθεί αυτό το ραντεβού;
            </div>
            <div class="modal-footer">
                <button class="btn" id="confirmYesBtn">Ναι</button>
                <button class="btn" id="confirmNoBtn">Όχι</button>
            </div>
        </div>
        
        <div id="successContent" style="display: none;">
            <div class="modal-header">Επιβεβαίωση Ραντεβού</div>
            <div class="modal-body">
                Το ραντεβού σας έχει καταχωρηθεί επιτυχώς! Θα λάβετε επιβεβαίωση μέσω email.
            </div>
            <div class="modal-footer">
                <button class="btn" id="modalCloseBtn">Κλείσιμο</button>
            </div>
        </div>
    </div>
</div>

   
    <div class="footer">
        <div class="container">
            <div class="row align-items-center">
                
                <div class="col-lg-7 col-md-8">
                    <div class="footer-contact">
                        <h2>Διέυθυνση&nbsp;Barber&nbsp;shop</h2>
                        <p><i class="fa fa-map-marker-alt"></i>Καβάλας&nbsp;187,&nbsp;Περιστέρι&nbsp;121&nbsp;36</p>
                        <p><i class="fa fa-phone-alt"></i>21&nbsp;6003&nbsp;4661</p>
                        <p><i class="fa fa-envelope"></i>mikroHollywood@gmail.com</p>
                        <div class="footer-social">
                            <a href="https://www.facebook.com/MikroHollywood/"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://www.instagram.com/mikrohollywood/"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>

               
                <div class="col-lg-5 col-md-4">
                    <div class="map-container footer-map">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3143.786277003955!2d23.67533287644532!3d38.005445298838076!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14a1a352c31ae061%3A0xaccf50074b00bb78!2sKavalas%20187%2C%20Peristeri%20121%2036!5e0!3m2!1sen!2sgr!4v1737560630507!5m2!1sen!2sgr"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>

        <div class="container copyright">
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; <a href="#">To&nbsp;mikro&nbsp;Hollywood</a>, All Right Reserved.</p>
                </div>
            </div>
        </div>
    </div>
    
   
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/gr.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    

    
    <script src="/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    
    <script src="js/main.js"></script>

    <script>
       document.addEventListener("DOMContentLoaded", function () {
    const confirmBtn = document.getElementById("confirmBtn");
    const closeModalBtn = document.getElementById("closeModalBtn");
            const storeHours = {
                "Παρασκευή": ["12:00", "20:00"],
                "Σάββατο": ["10:00", "17:00"],
                "Κυριακή": null,
                "Δευτέρα": null,
                "Τρίτη": ["12:00", "20:00"],
                "Τετάρτη": ["10:00", "15:00"],
                "Πέμπτη": ["12:00", "20:00"]
            };
    
            const dayNamesInGreek = ["Κυριακή", "Δευτέρα", "Τρίτη", "Τετάρτη", "Πέμπτη", "Παρασκευή", "Σάββατο"];
            async function fetchServices() {
    return [
        { name: 'ΚΟΥΡΕΜΑ ΑΝΔΡΙΚΟ', price: 10 },
        { name: 'ΚΟΥΡΕΜΑ ΜΑΖΙ ΓΕΝΙΑ,ΜΟΥΣΙΑ', price: 13 },
        { name: 'ΚΟΥΡΕΜΑ ΠΑΙΔΙΚΟ ΕΩΣ 10 ΕΤΩΝ', price: 8 },
        { name: 'ΚΟΥΡΕΜΑ ΗΛΙΚΙΩΜΕΝΩΝ', price: 8 },
        { name: 'ΦΡΕΣΚΑΡΙΣΜΑ ΜΟΥΣΙΑ,ΓΕΝΙΑ', price: 5 },
        { name: 'ΦΡΕΣΚΑΡΙΣΜΑ ΑΥΧΕΝΑ, ΦΑΒΟΡΙΤΕΣ', price: 3 },
        { name: 'ΛΟΥΣΙΜΟ', price: 2 },
        { name: 'ΛΟΥΣΙΜΟ ΧΤΕΝΙΣΜΑ', price: 3 },
        { name: 'ΒΑΦΗ ΜΑΛΛΙΩΝ', price: 20 },
        { name: 'ΒΑΦΗ ΓΕΝΕΙΑΔΑΣ', price: 8 },
        { name: 'ΘΕΡΑΠΕΙΕΣ ΜΑΛΛΙΩΝ (ΒΟΤΟΧ, ΕΝΥΔΑΤΩΣΗΣ, ΤΡΙΧΟΠΤΩΣΗΣ)', price: 10 },
        { name: 'ΠΕΡΙΠΟΙΗΣΗ ΠΡΟΣΩΠΟΥ BLACK MASK', price: 8 },
        { name: 'ΑΠΟΤΡΙΧΩΣΗ ΜΕ ΚΕΡΙ', price: 3 }
    ];

}
function showServicesModal() {
        console.log("Showing Services Modal");
        const modal = document.getElementById("servicesModal");
        const servicesContainer = document.getElementById("servicesList");
        const totalPriceElement = document.getElementById("totalPrice");

        fetchServices().then(services => {
            servicesContainer.innerHTML = '';  
            let total = 0;

            services.forEach(service => {
                const serviceElement = document.createElement("div");
                serviceElement.innerHTML = `
                    <label>
                        <input type="checkbox" class="service-checkbox" value="${service.price}" data-name="${service.name}">
                        ${service.name} - ${service.price} €
                    </label>
                `;
                servicesContainer.appendChild(serviceElement);
            });

            const checkboxes = servicesContainer.querySelectorAll(".service-checkbox");
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener("change", function () {
                    total = 0;
                    checkboxes.forEach(checkbox => {
                        if (checkbox.checked) {
                            total += parseFloat(checkbox.value);
                        }
                    });
                    totalPriceElement.textContent = `Συνολικό Κόστος: ${total} €`;
                });
            });
        });

        modal.style.display = "block";
    }

    function closeServicesModal() {
        const modal = document.getElementById("servicesModal");
        if (modal) {
            modal.style.display = "none";
            console.log("Services modal closed");
        } else {
            console.error("Services modal not found!");
        }
    }

    if (confirmBtn) {
    confirmBtn.addEventListener("click", function () {
        console.log("Confirm button clicked");
        const checkboxes = document.querySelectorAll(".service-checkbox:checked");
        const selectedServices = [];

        checkboxes.forEach(checkbox => {
            selectedServices.push({
                name: checkbox.dataset.name,
                price: parseFloat(checkbox.value)
            });
        });

        if (selectedServices.length === 0) {
            alert("Διαλέξτε υπηρεσία πριν συνεχίσετε!");
            console.log("No services selected.");
            return;
        }

        
        localStorage.setItem("selectedServices", JSON.stringify(selectedServices));

        closeServicesModal();
        openModal();  
    });
}
        // Fetch closed days
            function fetchClosedDays() {
                return fetch("http://localhost:5000/closed_days")
                    .then(response => {
                        if (!response.ok) {
                            throw new Error("Failed to fetch closed days");
                        }
                        return response.json();
                    })
                    .catch(error => {
                        console.error('Error fetching closed days:', error);
                        return [];
                    });
            }
            if (localStorage.getItem("refreshAppointments") === "true") {
    localStorage.removeItem("refreshAppointments");
    fetchAppointments();
}
            fetchClosedDays().then(closedDays => {
                // Localize flatpickr 
                flatpickr.localize(flatpickr.l10ns.gr);
                flatpickr("#appointment-date", {
                    dateFormat: "d/m/Y",
                    minDate: "today",
                    maxDate: new Date().fp_incr(14),
                    placeholder: "Πατήστε για επιλογή μέρας", // Set the placeholder
                    disableMobile: true,
                    disable: closedDays,
                    onChange: function (selectedDates, dateStr, instance) {
                        const selectedDate = selectedDates[0];
                        const formattedDate = formatDate(selectedDate);
                        const dayOfWeek = dayNamesInGreek[selectedDate.getDay()];
                        const timeSlotsContainer = document.getElementById("appointment-time");

                        timeSlotsContainer.innerHTML = "";

                        if (closedDays.includes(formattedDate)) {
                            const slotElement = document.createElement("div");
                            slotElement.classList.add("time-slot", "unavailable");
                            slotElement.textContent = "ΚΛΕΙΣΤΟ";
                            timeSlotsContainer.appendChild(slotElement);
                        } else if (storeHours[dayOfWeek]) {
                            let [start, end] = storeHours[dayOfWeek];
                            let startTime = new Date(selectedDate);
                            let endTime = new Date(selectedDate);

                            startTime.setHours(start.split(":")[0], start.split(":")[1]);
                            endTime.setHours(end.split(":")[0], end.split(":")[1]);

                            fetchBookedSlots(formatDate(selectedDate)).then(bookedSlots => {
                                // Get the current time if the selected date is today
                                const now = new Date();
                                if (selectedDate.toDateString() === now.toDateString()) {
                                    startTime = new Date(Math.max(startTime, now));
                                    startTime.setMinutes(Math.ceil(startTime.getMinutes() / 30) * 30); // Round to the next 30 minutes
                                }

                                for (let time = startTime; time < endTime; time.setMinutes(time.getMinutes() + 30)) {
                                    const timeString = time.toTimeString().substr(0, 5);
                                    const slotElement = document.createElement("div");
                                    slotElement.classList.add("time-slot");

                                    if (!bookedSlots.includes(timeString)) {
                                        slotElement.classList.add("available");
                                        slotElement.textContent = timeString;

                                        // Add click event listener for available slots
                                        slotElement.addEventListener("click", function () {
                                            // Remove active class from previously selected slot
                                            const activeSlot = timeSlotsContainer.querySelector(".time-slot.active");
                                            if (activeSlot) {
                                                activeSlot.classList.remove("active");
                                            }

                                            // Add active class to the selected slot
                                            slotElement.classList.add("active");
                                        });
                                    } else {
                                        slotElement.classList.add("unavailable");
                                        slotElement.textContent = timeString;
                                    }

                                    timeSlotsContainer.appendChild(slotElement);
                                }
                            });
                        } else {
                            const slotElement = document.createElement("div");
                            slotElement.classList.add("time-slot", "unavailable");
                            slotElement.textContent = "Κλειστά";
                            timeSlotsContainer.appendChild(slotElement);
                        }
                    }
                });
            });
    
           //FLatpickr
            function formatDate(date) {
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                return `${year}-${month}-${day}`;
            }
            async function fetchAppointments() {
    try {
        const response = await fetch("http://localhost:5000/available-appointments");
        if (!response.ok) throw new Error("Failed to fetch available appointments");

        const availableAppointments = await response.json();
        renderAppointments(availableAppointments);
    } catch (error) {
        console.error("Error fetching available appointments:", error);
    }
}
    
            // Function to fetch booked slots from the server
            function fetchBookedSlots(date) {
                return fetch(`http://localhost:5000/booked-slots?date=${date}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error("Failed to fetch booked slots");
                        }
                        return response.json();
                    })
                    .then(data => data.bookedSlots || [])
                    .catch(error => {
                        console.error("Error fetching booked slots:", error);
                        return [];
                    });
            }
    
           
            var modal = document.getElementById("appointmentModal");
            var confirmationContent = document.getElementById("confirmationContent");
            var successContent = document.getElementById("successContent");
    
          
            if (!modal) {
                console.error("Modal element not found!");
                return;
            }
    
           
            var span = document.getElementsByClassName("close")[0];
            var closeBtn = document.getElementById("modalCloseBtn");
    
        
    
            
            var shouldSubmitForm = false;
    
           

  

document.getElementById("bookingForm").addEventListener("submit", function (event) {
    event.preventDefault();  
    showServicesModal();     
});

// Open confirmation modal
function openModal() {
    console.log("Opening Appointment Modal");
    const modal = document.getElementById("appointmentModal");
    const confirmationContent = document.getElementById("confirmationContent");
    const successContent = document.getElementById("successContent");

    modal.style.display = "block"; 
    confirmationContent.style.display = "block";
    successContent.style.display = "none";
}

document.addEventListener("click", async function (event) {
    if (event.target && event.target.id === "confirmYesBtn") {
        console.log("Confirm button clicked!");

       
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        const email = document.getElementById("email").value;
        const appointmentDate = document.getElementById("appointment-date").value;
        const selectedSlot = document.querySelector(".time-slot.active");
        const appointmentTime = selectedSlot ? selectedSlot.textContent : null;

        
        const selectedServices = JSON.parse(localStorage.getItem("selectedServices")) || [];

        
        console.log("Validating form fields:", { name, phone, email, appointmentDate, appointmentTime, selectedServices });

        if (!name || !phone || !email || !appointmentDate || !appointmentTime || selectedServices.length === 0) {
            alert("Παρακαλώ συμπληρώστε όλα τα πεδία.");
            console.log("Validation failed: Missing fields!");
            return; 
        }
        console.log("Validation passed. Proceeding with form submission.");
await submitForm();  


const modal = document.getElementById("appointmentModal");
const confirmationContent = document.getElementById("confirmationContent");
const successContent = document.getElementById("successContent");

confirmationContent.style.display = "none";
successContent.style.display = "block";
modal.style.display = "block";  
    }

    if (event.target && event.target.id === "confirmNoBtn") {
        console.log("Cancel button clicked!");
        closeModal();  
    }
});

function closeModal() {
    const appointmentModal = document.getElementById("appointmentModal");
    const successModal = document.getElementById("successContent");
    const servicesModal = document.getElementById("servicesModal");

    if (appointmentModal) {
        appointmentModal.style.display = "none";  
    }

    if (successModal) {
        successModal.style.display = "none";  
    }

    if (servicesModal) {
        servicesModal.style.display = "none";  
    }

    console.log("Modal(s) closed!");
} //  submit the form data AJAX
    
  async function submitForm() {
    console.log("Form is being submitted!");
    const name = document.getElementById("name").value;
    const phone = document.getElementById("phone").value;
    const email = document.getElementById("email").value;
    const appointmentDate = document.getElementById("appointment-date").value;
    const selectedSlot = document.querySelector(".time-slot.active");
    const appointmentTime = selectedSlot ? selectedSlot.textContent : null;
    const userId = 1;

    // Retrieve stored services from localStorage
    const selectedServices = JSON.parse(localStorage.getItem("selectedServices")) || [];
    console.log("Retrieved from localStorage:", selectedServices);
  
    if (!name || !phone || !email || !appointmentDate || !appointmentTime || selectedServices.length === 0) {
        alert("Παρακαλώ συμπληρώστε όλα τα πεδία.");
        console.log("Validation failed: Missing fields during form submission!");
        return; 
    }

    try {
        const response = await fetch("http://localhost:5000/appointments", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                user_id: userId,
                name,
                phone,
                email,
                appointment_date: appointmentDate,
                appointment_time: appointmentTime,
                services: selectedServices
            }),
        });

        if (!response.ok) throw new Error("Η κράτηση απέτυχε.");

        // Show success message
        const confirmationContent = document.getElementById("confirmationContent");
        const successContent = document.getElementById("successContent");

        confirmationContent.style.display = "none";
        successContent.style.display = "block";

        // Clear form and localStorage
        document.getElementById("bookingForm").reset();
        localStorage.removeItem("selectedServices");

        const timeSlots = document.querySelectorAll(".time-slot.active");
        timeSlots.forEach(slot => slot.classList.remove("active"));

    } catch (error) {
        console.error("Σφάλμα:", error);
        alert("Παρουσιάστηκε σφάλμα κατά την κράτηση.");
    }
}
    
            // Code for the cancellation modal
            var cancelModal = document.getElementById("cancelModal");
            var cancelCloseButton = document.querySelector(".cancel-close");
            var sendLinkBtn = document.getElementById("sendCancelLink");
    
            document.querySelector(".cancel-link").addEventListener("click", function (event) {
    event.preventDefault();
    cancelModal.style.display = "block";  // Open cancel modal
});
cancelCloseButton.addEventListener("click", function() {
    cancelModal.style.display = "none";  // Close cancel modal
});
    
            // Close cancel modal if clicking outside the modal
window.addEventListener("click", function(event) {
    if (event.target == cancelModal) {
        cancelModal.style.display = "none";  
    }
});
    
//cancel link
            sendLinkBtn.addEventListener("click", async function() {
                const email = document.getElementById("userEmail").value;
                if (!email) {
                    alert("Παρακαλώ εισάγετε το email σας.");
                    return;
                }
                try {
                    const response = await fetch("http://localhost:5000/send-cancel-link", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ email }),
                    });
                    if (!response.ok) {
                        throw new Error("Failed to send cancel link.");
                    }
                    alert("Ο σύνδεσμος ακύρωσης στάλθηκε στο email σας.");
                    cancelModal.style.display = "none";
                } catch (error) {
                    console.error("Error sending cancel link:", error);
                    alert("Παρουσιάστηκε σφάλμα κατά την αποστολή του συνδέσμου ακύρωσης.");
                }
            });


        });

     



</script>
</body>
</html>
