<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Barbershop athens, Barbershop peristeri">
    <meta name="description" content="Barbershop ÏƒÏ„Î¿ Î ÎµÏÎ¹ÏƒÏ„Î­ÏÎ¹ Ï„Î·Ï‚ Î‘Î¸Î®Î½Î±Ï‚, ÎºÎ»ÎµÎ¯ÏƒÎµ ÏÎ±Î½Ï„ÎµÎ²Î¿Ï ÏƒÎ®Î¼ÎµÏÎ±! ">

    
    <title>ÎœÎ¹ÎºÏÏŒ Î§ÏŒÎ»Î¹Î³Î¿Ï…Î½Ï„ - Official Website</title>

   
    <link rel="icon" href="nav/favicon.ico">

    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

    
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">
   

    
   
    <link href="css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
  
    <div class="custom-navbar">
        <div class="top-bar d-none d-md-block">
            <div class="container-fluid">
                <div class="row">
                    
                    <div class="col-md-6">
                        <div class="top-bar-left">
                            <div class="text">
                                <h2><a href="tel:+302160034661">21&nbsp;6003&nbsp;4661</a></h2>
                                <p>Î¤Î·Î»Î­Ï†Ï‰Î½Î¿ ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±Ï‚</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="top-bar-right">
                            <div class="social">
                                <a href="https://www.facebook.com/MikroHollywood/" target="_blank">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="https://www.instagram.com/mikrohollywood/" target="_blank">
                                    <i class="fab fa-instagram"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

       
        <div class="container-fluid d-flex align-items-center justify-content-between">
           
            <div class="brand d-flex align-items-center">
                <span class="brand-text">Î¤Î¿&nbsp;Î¼Î¹ÎºÏÏŒ</span>&nbsp; <span class="brand-text hollywood">Î§ÏŒÎ»Î¹Î³Î¿Ï…Î½Ï„</span>
                <img src="nav/star-logo.png" alt="Star Logo" class="star-logo ml-2">
            </div>
        </div>
       
        <nav class="navbar navbar-expand-lg">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Î‘Î¡Î§Î™ÎšÎ—</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="portfolio.html">Î“ÎšÎ‘Î›Î•Î¡Î™</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Î•Î Î™ÎšÎŸÎ™ÎÎ©ÎÎ™Î‘</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

   
    <div class="hero">
        <div class="container-fluid">
            <div class="row">
                
                <div class="col-md-6 hero-text">
                    <h1>ÎˆÎ½Î± Î¼Î¹ÎºÏÏŒ Ï‡Î¿Î»Î¹Î³Î¿Ï…Î½Ï„Î¹Î±Î½ÏŒ ÎºÎ±Î¼Î±ÏÎ¯Î½Î¹ ÎµÏ€Î¿Ï‡Î®Ï‚ ÏƒÏ„Î¿ Î ÎµÏÎ¹ÏƒÏ„Î­ÏÎ¹! â­ï¸ ğŸï¸ ğŸ“½ï¸</h1>
                    <a class="btn hero-button" href="#contact">ÎšÎ»ÎµÎ¯ÏƒÎµ Î¡Î±Î½Ï„ÎµÎ²Î¿Ï!âœ‚ï¸</a> 
                </div>

                
                <div class="hero-image-container">
                    <div class="album">
                      
                        <img src="img/1.png" alt="Album Image 1">
                        <img src="img/2.png" alt="Album Image 2">
                        <img src="img/3.png" alt="Album Image 3">
                        <img src="img/4.png" alt="Album Image 4">
                        <img src="img/5.png" alt="Album Image 5">
                        <img src="img/6.png" alt="Album Image 6">
                    </div>
                    <a class="btn" href="portfolio.html">Î“ÎºÎ±Î»ÎµÏÎ¯</a>
                </div>
            </div>
        </div>
    </div>


<div class="contact" id="contact">
    <div class="container-fluid">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-4"></div>
                <div class="col-md-8">
                    <div class="contact-form">
                        <h3>ÎšÎ»ÎµÎ¯ÏƒÎµ Î¡Î±Î½Ï„ÎµÎ²Î¿Ï!</h3>
                        <form id="bookingForm">
                            <div class="control-group">
                                <label for="name">Î¤Î¿ ÏŒÎ½Î¿Î¼Î¬ ÏƒÎ±Ï‚:</label>
                                <input type="text" class="form-control" id="name" placeholder="ÎŸÎ½Î¿Î¼Î±Ï„ÎµÏ€ÏÎ½Ï…Î¼Î¿" required />
                            </div>

                            <div class="control-group">
                                <label for="phone">ÎŸ Î±ÏÎ¹Î¸Î¼ÏŒÏ‚ Ï„Î·Î»ÎµÏ†ÏÎ½Î¿Ï… ÏƒÎ±Ï‚:</label>
                                <input type="tel" class="form-control" id="phone" placeholder="Î¤Î·Î»Î­Ï†Ï‰Î½Î¿ ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±Ï‚" required />
                            </div>

                            <div class="control-group">
                                <label for="email">Î¤Î¿ email ÏƒÎ±Ï‚:</label>
                                <input type="email" class="form-control" id="email" placeholder="Î—Î»ÎµÎºÏ„ÏÎ¿Î½Î¹ÎºÎ® Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·" required />
                            </div>

                            <div class="control-group">
                                <label for="appointment-date">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</label>
                                <input type="date" class="form-control" id="appointment-date" required />
                            </div>

                            <div class="control-group">
                                <label for="appointment-time">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ ÏÏÎ±:</label>
                                <div id="appointment-time" class="time-slots">
                                  
                                </div>
                            </div>

                            <div>
                                <button class="btn" type="submit">ÎšÎ¬Î½Îµ ÎšÏÎ¬Ï„Î·ÏƒÎ·</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
 
  <div class="container">
    <a href="#" class="cancel-link">Î‘ÎºÏÏÏ‰ÏƒÎ· Î¡Î±Î½Ï„ÎµÎ²Î¿Ï</a>
</div>


    <div id="cancelModal" class="modal">
        <div class="modal-content">
            <span class="close cancel-close">&times;</span>
            <h3>Î‘ÎºÏÏÏ‰ÏƒÎ· Î¡Î±Î½Ï„ÎµÎ²Î¿Ï</h3>
            <p>Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿ email ÏƒÎ±Ï‚ Î³Î¹Î± Î½Î± Î»Î¬Î²ÎµÏ„Îµ Ï„Î¿Î½ ÏƒÏÎ½Î´ÎµÏƒÎ¼Î¿ Î±ÎºÏÏÏ‰ÏƒÎ·Ï‚:</p>
            <input type="email" id="userEmail" placeholder="Email">
            <button id="sendCancelLink" class="hero-btn">Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® Î£Ï…Î½Î´Î­ÏƒÎ¼Î¿Ï…</button>
        </div>
    </div>
    <button id="showModalBtn">Î ÏÎ¿Î²Î¿Î»Î® Î¥Ï€Î·ÏÎµÏƒÎ¹ÏÎ½</button>


<div id="servicesModal" class="modal">
  <div class="modal-content">
    <h2>Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚</h2>
    <div id="servicesList"></div>
    <p id="totalPrice">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚: 0 â‚¬</p>
    <button id="confirmBtn">Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·</button>
    <button id="closeModalBtn">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>
  </div>
</div>

<div id="appointmentModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        
        <div id="confirmationContent">
            <div class="modal-header">Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î¡Î±Î½Ï„ÎµÎ²Î¿Ï</div>
            <div class="modal-body">
                Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ·Î¸ÎµÎ¯ Î±Ï…Ï„ÏŒ Ï„Î¿ ÏÎ±Î½Ï„ÎµÎ²Î¿Ï;
            </div>
            <div class="modal-footer">
                <button class="btn" id="confirmYesBtn">ÎÎ±Î¹</button>
                <button class="btn" id="confirmNoBtn">ÎŒÏ‡Î¹</button>
            </div>
        </div>
        
        <div id="successContent" style="display: none;">
            <div class="modal-header">Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î¡Î±Î½Ï„ÎµÎ²Î¿Ï</div>
            <div class="modal-body">
                Î¤Î¿ ÏÎ±Î½Ï„ÎµÎ²Î¿Ï ÏƒÎ±Ï‚ Î­Ï‡ÎµÎ¹ ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ·Î¸ÎµÎ¯ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚! Î˜Î± Î»Î¬Î²ÎµÏ„Îµ ÎµÏ€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î¼Î­ÏƒÏ‰ email.
            </div>
            <div class="modal-footer">
                <button class="btn" id="modalCloseBtn">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>
            </div>
        </div>
    </div>
</div>

   
    <div class="footer">
        <div class="container">
            <div class="row align-items-center">
                
                <div class="col-lg-7 col-md-8">
                    <div class="footer-contact">
                        <h2>Î”Î¹Î­Ï…Î¸Ï…Î½ÏƒÎ·&nbsp;Barber&nbsp;shop</h2>
                        <p><i class="fa fa-map-marker-alt"></i>ÎšÎ±Î²Î¬Î»Î±Ï‚&nbsp;187,&nbsp;Î ÎµÏÎ¹ÏƒÏ„Î­ÏÎ¹&nbsp;121&nbsp;36</p>
                        <p><i class="fa fa-phone-alt"></i>21&nbsp;6003&nbsp;4661</p>
                        <p><i class="fa fa-envelope"></i>mikroHollywood@gmail.com</p>
                        <div class="footer-social">
                            <a href="https://www.facebook.com/MikroHollywood/"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://www.instagram.com/mikrohollywood/"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>

               
                <div class="col-lg-5 col-md-4">
                    <div class="map-container footer-map">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3143.786277003955!2d23.67533287644532!3d38.005445298838076!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14a1a352c31ae061%3A0xaccf50074b00bb78!2sKavalas%20187%2C%20Peristeri%20121%2036!5e0!3m2!1sen!2sgr!4v1737560630507!5m2!1sen!2sgr"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>

        <div class="container copyright">
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; <a href="#">To&nbsp;mikro&nbsp;Hollywood</a>, All Right Reserved.</p>
                </div>
            </div>
        </div>
    </div>
    
   
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/gr.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    

    
    <script src="/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    
    <script src="js/main.js"></script>

    <script>
   Â  Â  document.addEventListener("DOMContentLoaded", function () {
    const confirmBtn = document.getElementById("confirmBtn");
    const closeModalBtn = document.getElementById("closeModalBtn");
Â  Â  Â  Â  Â  Â  const storeHours = {
Â  Â  Â  Â  Â  Â  Â  Â  "Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®": ["12:00", "20:00"],
Â  Â  Â  Â  Â  Â  Â  Â  "Î£Î¬Î²Î²Î±Ï„Î¿": ["10:00", "17:00"],
Â  Â  Â  Â  Â  Â  Â  Â  "ÎšÏ…ÏÎ¹Î±ÎºÎ®": null,
Â  Â  Â  Â  Â  Â  Â  Â  "Î”ÎµÏ…Ï„Î­ÏÎ±": null,
Â  Â  Â  Â  Â  Â  Â  Â  "Î¤ÏÎ¯Ï„Î·": ["12:00", "20:00"],
Â  Â  Â  Â  Â  Â  Â  Â  "Î¤ÎµÏ„Î¬ÏÏ„Î·": ["10:00", "15:00"],
Â  Â  Â  Â  Â  Â  Â  Â  "Î Î­Î¼Ï€Ï„Î·": ["12:00", "20:00"]
Â  Â  Â  Â  Â  Â  };
Â  Â  
Â  Â  Â  Â  Â  Â  const dayNamesInGreek = ["ÎšÏ…ÏÎ¹Î±ÎºÎ®", "Î”ÎµÏ…Ï„Î­ÏÎ±", "Î¤ÏÎ¯Ï„Î·", "Î¤ÎµÏ„Î¬ÏÏ„Î·", "Î Î­Î¼Ï€Ï„Î·", "Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®", "Î£Î¬Î²Î²Î±Ï„Î¿"];
Â  Â  Â  Â  Â  Â  async function fetchServices() {
Â  Â  return [
Â  Â  Â  Â  { name: 'ÎšÎŸÎ¥Î¡Î•ÎœÎ‘ Î‘ÎÎ”Î¡Î™ÎšÎŸ', price: 10 },
Â  Â  Â  Â  { name: 'ÎšÎŸÎ¥Î¡Î•ÎœÎ‘ ÎœÎ‘Î–Î™ Î“Î•ÎÎ™Î‘,ÎœÎŸÎ¥Î£Î™Î‘', price: 13 },
Â  Â  Â  Â  { name: 'ÎšÎŸÎ¥Î¡Î•ÎœÎ‘ Î Î‘Î™Î”Î™ÎšÎŸ Î•Î©Î£ 10 Î•Î¤Î©Î', price: 8 },
Â  Â  Â  Â  { name: 'ÎšÎŸÎ¥Î¡Î•ÎœÎ‘ Î—Î›Î™ÎšÎ™Î©ÎœÎ•ÎÎ©Î', price: 8 },
Â  Â  Â  Â  { name: 'Î¦Î¡Î•Î£ÎšÎ‘Î¡Î™Î£ÎœÎ‘ ÎœÎŸÎ¥Î£Î™Î‘,Î“Î•ÎÎ™Î‘', price: 5 },
Â  Â  Â  Â  { name: 'Î¦Î¡Î•Î£ÎšÎ‘Î¡Î™Î£ÎœÎ‘ Î‘Î¥Î§Î•ÎÎ‘, Î¦Î‘Î’ÎŸÎ¡Î™Î¤Î•Î£', price: 3 },
Â  Â  Â  Â  { name: 'Î›ÎŸÎ¥Î£Î™ÎœÎŸ', price: 2 },
Â  Â  Â  Â  { name: 'Î›ÎŸÎ¥Î£Î™ÎœÎŸ Î§Î¤Î•ÎÎ™Î£ÎœÎ‘', price: 3 },
Â  Â  Â  Â  { name: 'Î’Î‘Î¦Î— ÎœÎ‘Î›Î›Î™Î©Î', price: 20 },
Â  Â  Â  Â  { name: 'Î’Î‘Î¦Î— Î“Î•ÎÎ•Î™Î‘Î”Î‘Î£', price: 8 },
Â  Â  Â  Â  { name: 'Î˜Î•Î¡Î‘Î Î•Î™Î•Î£ ÎœÎ‘Î›Î›Î™Î©Î (Î’ÎŸÎ¤ÎŸÎ§, Î•ÎÎ¥Î”Î‘Î¤Î©Î£Î—Î£, Î¤Î¡Î™Î§ÎŸÎ Î¤Î©Î£Î—Î£)', price: 10 },
Â  Â  Â  Â  { name: 'Î Î•Î¡Î™Î ÎŸÎ™Î—Î£Î— Î Î¡ÎŸÎ£Î©Î ÎŸÎ¥ BLACK MASK', price: 8 },
Â  Â  Â  Â  { name: 'Î‘Î ÎŸÎ¤Î¡Î™Î§Î©Î£Î— ÎœÎ• ÎšÎ•Î¡Î™', price: 3 }
Â  Â  ];

}
function showServicesModal() {
        console.log("Showing Services Modal");
        const modal = document.getElementById("servicesModal");
        const servicesContainer = document.getElementById("servicesList");
        const totalPriceElement = document.getElementById("totalPrice");

        fetchServices().then(services => {
            servicesContainer.innerHTML = '';  
            let total = 0;

            services.forEach(service => {
                const serviceElement = document.createElement("div");
                serviceElement.innerHTML = `
                    <label>
                        <input type="checkbox" class="service-checkbox" value="${service.price}" data-name="${service.name}">
                        ${service.name} - ${service.price} â‚¬
                    </label>
                `;
                servicesContainer.appendChild(serviceElement);
            });

            const checkboxes = servicesContainer.querySelectorAll(".service-checkbox");
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener("change", function () {
                    total = 0;
                    checkboxes.forEach(checkbox => {
                        if (checkbox.checked) {
                            total += parseFloat(checkbox.value);
                        }
                    });
                    totalPriceElement.textContent = `Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚: ${total} â‚¬`;
                });
            });
        });

        modal.style.display = "block";
    }

    function closeServicesModal() {
        const modal = document.getElementById("servicesModal");
        if (modal) {
            modal.style.display = "none";
            console.log("Services modal closed");
        } else {
            console.error("Services modal not found!");
        }
    }

    if (confirmBtn) {
    confirmBtn.addEventListener("click", function () {
        console.log("Confirm button clicked");
        const checkboxes = document.querySelectorAll(".service-checkbox:checked");
        const selectedServices = [];

        checkboxes.forEach(checkbox => {
            selectedServices.push({
                name: checkbox.dataset.name,
                price: parseFloat(checkbox.value)
            });
        });

        if (selectedServices.length === 0) {
            alert("Î”Î¹Î±Î»Î­Î¾Ï„Îµ Ï…Ï€Î·ÏÎµÏƒÎ¯Î± Ï€ÏÎ¹Î½ ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎµÏ„Îµ!");
            console.log("No services selected.");
            return;
        }

        
        localStorage.setItem("selectedServices", JSON.stringify(selectedServices));

        closeServicesModal();
        openModal();  
    });
}
Â  Â  Â  Â  // Fetch closed days
Â  Â  Â  Â  Â  Â  function fetchClosedDays() {
Â  Â  Â  Â  Â  Â  Â  Â  return fetch("http://localhost:5000/closed_days")
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(response => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Failed to fetch closed days");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error fetching closed days:', error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (localStorage.getItem("refreshAppointments") === "true") {
Â  Â  localStorage.removeItem("refreshAppointments");
Â  Â  fetchAppointments();
}
Â  Â  Â  Â  Â  Â  fetchClosedDays().then(closedDays => {
Â  Â  Â  Â  Â  Â  Â  Â  // Localize flatpickr 
Â  Â  Â  Â  Â  Â  Â  Â  flatpickr.localize(flatpickr.l10ns.gr);
Â  Â  Â  Â  Â  Â  Â  Â  flatpickr("#appointment-date", {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dateFormat: "d/m/Y",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  minDate: "today",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maxDate: new Date().fp_incr(14),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder: "Î Î±Ï„Î®ÏƒÏ„Îµ Î³Î¹Î± ÎµÏ€Î¹Î»Î¿Î³Î® Î¼Î­ÏÎ±Ï‚", // Set the placeholder
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disableMobile: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disable: closedDays,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange: function (selectedDates, dateStr, instance) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const selectedDate = selectedDates[0];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const formattedDate = formatDate(selectedDate);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dayOfWeek = dayNamesInGreek[selectedDate.getDay()];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const timeSlotsContainer = document.getElementById("appointment-time");

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timeSlotsContainer.innerHTML = "";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (closedDays.includes(formattedDate)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const slotElement = document.createElement("div");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.classList.add("time-slot", "unavailable");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.textContent = "ÎšÎ›Î•Î™Î£Î¤ÎŸ";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timeSlotsContainer.appendChild(slotElement);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (storeHours[dayOfWeek]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let [start, end] = storeHours[dayOfWeek];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let startTime = new Date(selectedDate);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let endTime = new Date(selectedDate);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startTime.setHours(start.split(":")[0], start.split(":")[1]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  endTime.setHours(end.split(":")[0], end.split(":")[1]);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fetchBookedSlots(formatDate(selectedDate)).then(bookedSlots => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Get the current time if the selected date is today
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const now = new Date();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (selectedDate.toDateString() === now.toDateString()) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startTime = new Date(Math.max(startTime, now));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startTime.setMinutes(Math.ceil(startTime.getMinutes() / 30) * 30); // Round to the next 30 minutes
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let time = startTime; time < endTime; time.setMinutes(time.getMinutes() + 30)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const timeString = time.toTimeString().substr(0, 5);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const slotElement = document.createElement("div");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.classList.add("time-slot");

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!bookedSlots.includes(timeString)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.classList.add("available");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.textContent = timeString;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Add click event listener for available slots
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.addEventListener("click", function () {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Remove active class from previously selected slot
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const activeSlot = timeSlotsContainer.querySelector(".time-slot.active");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (activeSlot) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  activeSlot.classList.remove("active");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Add active class to the selected slot
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.classList.add("active");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.classList.add("unavailable");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.textContent = timeString;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timeSlotsContainer.appendChild(slotElement);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const slotElement = document.createElement("div");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.classList.add("time-slot", "unavailable");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  slotElement.textContent = "ÎšÎ»ÎµÎ¹ÏƒÏ„Î¬";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timeSlotsContainer.appendChild(slotElement);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  
Â  Â  Â  Â  Â  Â //FLatpickr
Â  Â  Â  Â  Â  Â  function formatDate(date) {
Â  Â  Â  Â  Â  Â  Â  Â  const year = date.getFullYear();
Â  Â  Â  Â  Â  Â  Â  Â  const month = String(date.getMonth() + 1).padStart(2, '0');
Â  Â  Â  Â  Â  Â  Â  Â  const day = String(date.getDate()).padStart(2, '0');
Â  Â  Â  Â  Â  Â  Â  Â  return `${year}-${month}-${day}`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  async function fetchAppointments() {
Â  Â  try {
Â  Â  Â  Â  const response = await fetch("http://localhost:5000/available-appointments");
Â  Â  Â  Â  if (!response.ok) throw new Error("Failed to fetch available appointments");

Â  Â  Â  Â  const availableAppointments = await response.json();
Â  Â  Â  Â  renderAppointments(availableAppointments);
Â  Â  } catch (error) {
Â  Â  Â  Â  console.error("Error fetching available appointments:", error);
Â  Â  }
}
Â  Â  
Â  Â  Â  Â  Â  Â  // Function to fetch booked slots from the server
Â  Â  Â  Â  Â  Â  function fetchBookedSlots(date) {
Â  Â  Â  Â  Â  Â  Â  Â  return fetch(`http://localhost:5000/booked-slots?date=${date}`)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(response => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Failed to fetch booked slots");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(data => data.bookedSlots || [])
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error fetching booked slots:", error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  var modal = document.getElementById("appointmentModal");
Â  Â  Â  Â  Â  Â  var confirmationContent = document.getElementById("confirmationContent");
Â  Â  Â  Â  Â  Â  var successContent = document.getElementById("successContent");
Â  Â  
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (!modal) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Modal element not found!");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  var span = document.getElementsByClassName("close")[0];
Â  Â  Â  Â  Â  Â  var closeBtn = document.getElementById("modalCloseBtn");
Â  Â  
Â  Â  Â  Â  
Â  Â  
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  var shouldSubmitForm = false;
Â  Â  
Â  Â  Â  Â  Â  Â 

Â  

document.getElementById("bookingForm").addEventListener("submit", function (event) {
    event.preventDefault();  
    showServicesModal();     
});

// Open confirmation modal
function openModal() {
    console.log("Opening Appointment Modal");
    const modal = document.getElementById("appointmentModal");
    const confirmationContent = document.getElementById("confirmationContent");
    const successContent = document.getElementById("successContent");

    modal.style.display = "block"; 
    confirmationContent.style.display = "block";
    successContent.style.display = "none";
}

document.addEventListener("click", async function (event) {
    if (event.target && event.target.id === "confirmYesBtn") {
        console.log("Confirm button clicked!");

       
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        const email = document.getElementById("email").value;
        const appointmentDate = document.getElementById("appointment-date").value;
        const selectedSlot = document.querySelector(".time-slot.active");
        const appointmentTime = selectedSlot ? selectedSlot.textContent : null;

        
        const selectedServices = JSON.parse(localStorage.getItem("selectedServices")) || [];

        
        console.log("Validating form fields:", { name, phone, email, appointmentDate, appointmentTime, selectedServices });

        if (!name || !phone || !email || !appointmentDate || !appointmentTime || selectedServices.length === 0) {
            alert("Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ ÏŒÎ»Î± Ï„Î± Ï€ÎµÎ´Î¯Î±.");
            console.log("Validation failed: Missing fields!");
            return; 
        }
        console.log("Validation passed. Proceeding with form submission.");
await submitForm();  


const modal = document.getElementById("appointmentModal");
const confirmationContent = document.getElementById("confirmationContent");
const successContent = document.getElementById("successContent");

confirmationContent.style.display = "none";
successContent.style.display = "block";
modal.style.display = "block";  
    }

    if (event.target && event.target.id === "confirmNoBtn") {
        console.log("Cancel button clicked!");
        closeModal();  
    }
});

function closeModal() {
    const appointmentModal = document.getElementById("appointmentModal");
    const successModal = document.getElementById("successContent");
    const servicesModal = document.getElementById("servicesModal");

    if (appointmentModal) {
        appointmentModal.style.display = "none";  
    }

    if (successModal) {
        successModal.style.display = "none";  
    }

    if (servicesModal) {
        servicesModal.style.display = "none";  
    }

    console.log("Modal(s) closed!");
}Â //  submit the form data AJAX
Â  Â  
Â  async function submitForm() {
    console.log("Form is being submitted!");
    const name = document.getElementById("name").value;
    const phone = document.getElementById("phone").value;
    const email = document.getElementById("email").value;
    const appointmentDate = document.getElementById("appointment-date").value;
    const selectedSlot = document.querySelector(".time-slot.active");
    const appointmentTime = selectedSlot ? selectedSlot.textContent : null;
    const userId = 1;

    // Retrieve stored services from localStorage
    const selectedServices = JSON.parse(localStorage.getItem("selectedServices")) || [];
    console.log("Retrieved from localStorage:", selectedServices);
  
    if (!name || !phone || !email || !appointmentDate || !appointmentTime || selectedServices.length === 0) {
        alert("Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ ÏŒÎ»Î± Ï„Î± Ï€ÎµÎ´Î¯Î±.");
        console.log("Validation failed: Missing fields during form submission!");
        return; 
    }

    try {
        const response = await fetch("http://localhost:5000/appointments", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                user_id: userId,
                name,
                phone,
                email,
                appointment_date: appointmentDate,
                appointment_time: appointmentTime,
                services: selectedServices
            }),
        });

        if (!response.ok) throw new Error("Î— ÎºÏÎ¬Ï„Î·ÏƒÎ· Î±Ï€Î­Ï„Ï…Ï‡Îµ.");

        // Show success message
        const confirmationContent = document.getElementById("confirmationContent");
        const successContent = document.getElementById("successContent");

        confirmationContent.style.display = "none";
        successContent.style.display = "block";

        // Clear form and localStorage
        document.getElementById("bookingForm").reset();
        localStorage.removeItem("selectedServices");

        const timeSlots = document.querySelectorAll(".time-slot.active");
        timeSlots.forEach(slot => slot.classList.remove("active"));

    } catch (error) {
        console.error("Î£Ï†Î¬Î»Î¼Î±:", error);
        alert("Î Î±ÏÎ¿Ï…ÏƒÎ¹Î¬ÏƒÏ„Î·ÎºÎµ ÏƒÏ†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ ÎºÏÎ¬Ï„Î·ÏƒÎ·.");
    }
}
Â  Â  
Â  Â  Â  Â  Â  Â  // Code for the cancellation modal
Â  Â  Â  Â  Â  Â  var cancelModal = document.getElementById("cancelModal");
Â  Â  Â  Â  Â  Â  var cancelCloseButton = document.querySelector(".cancel-close");
Â  Â  Â  Â  Â  Â  var sendLinkBtn = document.getElementById("sendCancelLink");
Â  Â  
Â  Â  Â  Â  Â  Â  document.querySelector(".cancel-link").addEventListener("click", function (event) {
Â  Â  event.preventDefault();
Â  Â  cancelModal.style.display = "block"; Â // Open cancel modal
});
cancelCloseButton.addEventListener("click", function() {
Â  Â  cancelModal.style.display = "none"; Â // Close cancel modal
});
Â  Â  
Â  Â  Â  Â  Â  Â  // Close cancel modal if clicking outside the modal
window.addEventListener("click", function(event) {
Â  Â  if (event.target == cancelModal) {
Â  Â  Â  Â  cancelModal.style.display = "none"; Â 
Â  Â  }
});
Â  Â  
//cancel link
Â  Â  Â  Â  Â  Â  sendLinkBtn.addEventListener("click", async function() {
Â  Â  Â  Â  Â  Â  Â  Â  const email = document.getElementById("userEmail").value;
Â  Â  Â  Â  Â  Â  Â  Â  if (!email) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿ email ÏƒÎ±Ï‚.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch("http://localhost:5000/send-cancel-link", {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: "POST",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { "Content-Type": "application/json" },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ email }),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Failed to send cancel link.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("ÎŸ ÏƒÏÎ½Î´ÎµÏƒÎ¼Î¿Ï‚ Î±ÎºÏÏÏ‰ÏƒÎ·Ï‚ ÏƒÏ„Î¬Î»Î¸Î·ÎºÎµ ÏƒÏ„Î¿ email ÏƒÎ±Ï‚.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cancelModal.style.display = "none";
Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error sending cancel link:", error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Î Î±ÏÎ¿Ï…ÏƒÎ¹Î¬ÏƒÏ„Î·ÎºÎµ ÏƒÏ†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±Ï€Î¿ÏƒÏ„Î¿Î»Î® Ï„Î¿Ï… ÏƒÏ…Î½Î´Î­ÏƒÎ¼Î¿Ï… Î±ÎºÏÏÏ‰ÏƒÎ·Ï‚.");
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });


Â  Â  Â  Â  });

Â  Â  Â 



</script>
</body>
</html>
